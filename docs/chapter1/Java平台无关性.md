## Java平台无关性

#### 2.1 Java如何实现平台无关性

​		Java平台无关性主要从一下几个方面实现的：

1. Java平台扮演了Java程序和所在的硬件与操作系统之间的缓冲角色，这样Java程序只需要与Java平台交互，而避免了与操作系统进行交互。此处的Java平台主要指Java虚拟机及其核心类库，编写Java程序需要安装Java JDK环境，仅运行Java程序有Java JRE环境就可以。
2. Java语言保证了基本数据类型的值域和行为都是由语言自己定义的，而在C/C++中，基本数据类型的宽带由平台决定的。通过保证了基本数据类型在所有平台的一致性，为Java与平台无关提供了支持。
3. Java的class文件，Java程序的源码会被编译成二进制的class文件。class文件可以在任意平台创建，也可以在任意平台的Java运行环境中被装载。它的格式有严格的定义，与平台无关。
4. Java的可伸缩性。根据平台的差异，Java将自身分为ME、SE、EE不同的基础API来适应平台的不同。

有一些因素会影响到Java平台的无关性，分别是：
1. Java运行时环境。在运行程序前，平台必须装好Java运行环境。
2. Java的版本。当编写程序的Java版本较高而运行平台的Java版本过低时会出现问题，所以应该运行环境的Java版本要高于编写程序时的Java版本。
3. 本地方法。编写Java程序时最重要的原则是：不要直接或间接的调用不属于Java API的本地方法。编写平台无关的Java程序时应该完全禁止调用本地方法，通过Java API和主机进行交互。
4. 非标准运行时环境。所谓平台无关性，一种解释是你调用的方法是否在任何地方都已经实现。本地方法顾名思义，就是只是在本地实现了，所以无法保证平台无关。而Java API在如windows, Solaris等操作系统上的实现上使用了本地方法访问主机，即保证了平台无关。
5. 对虚拟机的依赖。虚拟机可以由不同开发商开发，但是必须满足如下两条原则：不要依赖及时终结(finalization)保证程序的正确性，因为特定程序中对象可能在不同的时间被垃圾收集；不要依赖线程的优先级来保证程序的正确性。因为一些虚拟机可以实现优先级高线程优先运行，一些虚拟机不能保证这一点。
6. 对用户界面依赖，AWT库提供基本的用户界面，这些组件被映射成每个平台上的本地组件，而Swing库为用户提供更高级的组件，但并没有被映射为本地组件。
#### 2.2 JVM还支持的语言
​		JVM除了运行Java语言外还可以运行以下语言：kotlin、Scala、Clojure、Groovy、Jython、JRuby、Ceylon、Eta、Haxe。